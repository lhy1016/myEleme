(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0d518c0"],{"11ad":function(s,t,e){},"336f":function(s,t,e){"use strict";var i=e("11ad"),a=e.n(i);a.a},8873:function(s,t,e){"use strict";e.r(t);var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("div",{staticClass:"confirmOrderContainer"},[e("header",{attrs:{id:"head_top"}},[e("section",{staticClass:"head_goback",on:{click:s.goBack}},[e("i",{staticClass:"el-icon-arrow-left"})]),s._m(0),s.isShow?s._e():e("router-link",{attrs:{to:"/login"}},[e("span",{staticClass:"login"},[s._v("登录|注册")])]),s.isShow?e("router-link",{attrs:{to:"/profile"}},[e("span",{staticClass:"user"},[e("i",{staticClass:"el-icon-user"})])]):s._e()],1),e("router-link",{attrs:{to:{path:"/chooseAddress",query:{sh:this.shop}}}},[this.address.length?e("div",{staticClass:"address_empty_left"},[e("i",{staticClass:"el-icon-location-outline"}),e("div",{staticClass:"address_detail_container"},[e("header",[e("span",[s._v(s._s(this.address[this.index]?s.address[this.index].name:"li")+" ")]),e("span",[s._v(" "+s._s(1==this.address[this.index].sex?"先生":"女士"))]),e("span",[s._v(" "+s._s(this.address[this.index].phone))])]),e("div",{staticClass:"address_detail"},[e("span",[s._v(s._s(this.address[this.index].tag))]),e("p",{},[s._v(s._s(s.address[this.index].address_detail))])])])]):e("div",{staticClass:"address_empty_left"},[e("i",{staticClass:"el-icon-location-outline"}),e("div",{staticClass:"add_address"},[s._v("请添加一个收货地址")])]),e("i",{staticClass:"el-icon-arrow-right"})]),s._m(1),s._m(2),e("section",{staticClass:"food_list"},[e("header",[e("img",{attrs:{src:"https://elm.cangdu.org/img/"+s.shop.image_path,alt:""}}),e("span",[s._v(s._s(s.shop.name))])]),e("ul",{staticClass:"food_list_ul"},s._l(s.mycar,(function(t,i){return e("li",{staticClass:"food_item_style"},[e("p",{staticClass:"food_name ellipsis"},[s._v(s._s(t.shop?t.shop.name:"h"))]),e("div",{staticClass:"num_price"},[e("span",[s._v("×"+s._s(t.num))]),e("span",[s._v(s._s(t.shop.specfoods[t.i]?t.num*t.shop.specfoods[t.i].price:20))])])])})),0),s._m(3),s._m(4),e("div",{staticClass:"total_price food_item_style"},[e("p",{staticClass:"food_name"},[s._v("订单"+s._s(s.priceAll))]),e("div",{staticClass:"num_price"},[e("span",[s._v("待支付 "+s._s(s.priceAll))])])])]),e("section",{staticClass:"container_style pay_way"},[e("router-link",{attrs:{to:""}},[e("span",[s._v("订单备注")]),e("div",{staticClass:"more_type"},[e("span",[s._v("口味、偏好等")]),e("i",{staticClass:"el-icon-arrow-right"})])]),e("router-link",{attrs:{to:""}},[e("span",[s._v("发票抬头")]),e("div",{staticClass:"more_type"},[e("span",[s._v("不需要开发票")]),e("i",{staticClass:"el-icon-arrow-right"})])])],1),e("section",{staticClass:"confrim_order"},[e("p",[s._v("待支付 ￥"+s._s(s.priceAll))]),e("p",{on:{click:s.placeOrder}},[s._v("确认下单")])])],1)])},a=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",{staticClass:"title_head ellipsis"},[e("span",[s._v("确认订单")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",{staticClass:"delivery_model container_style"},[e("p",{staticClass:"deliver_text"},[s._v("送达时间")]),e("section",{staticClass:"deliver_time"},[e("p",[s._v("尽快送达 | 预计 02:31")]),e("p",[s._v("蜂鸟转送")])])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",{staticClass:"pay_way container_style"},[e("header",{staticClass:"header_style"},[e("span",[s._v("支付方式")]),e("div",{staticClass:"more_type"},[e("span",[s._v("在线支付")]),e("i",{staticClass:"el-icon-arrow-right"})])]),e("section",{staticClass:"hongbo"},[e("span",[s._v("红包")]),e("span",[s._v("暂时只在饿了么APP中支持")])])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"food_item_style"},[e("p",{staticClass:"food_name ellipsis"},[s._v("餐盒")]),e("div",{staticClass:"num_price"},[e("span"),e("span",[s._v("￥ 69")])])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"food_item_style"},[e("p",{staticClass:"food_name ellipsis"},[s._v("配送费")]),e("div",{staticClass:"num_price"},[e("span"),e("span",[s._v("￥ 4")])])])}],o={name:"ConfirmOrder",data:function(){return{isShow:!0,Show:!0,mycar:[],price:"",address:[],index:0,shop:"",geohash:"",entities:[]}},created:function(){var s=this;this.shop=this.$store.state.shop,this.geohash=this.$route.query.geohash,console.log(this.shop),this.entities.push(this.$route.query.entities),console.log(this.entities),localStorage.getItem("mycar")&&(this.mycar=JSON.parse(localStorage.getItem("mycar"))),localStorage.getItem("user")?(this.isShow=!0,this.user=JSON.parse(localStorage.getItem("user")),console.log(this.user)):this.isShow=!1,this.axios.get("v1/users/"+this.user[0].user_id+"/addresses").then((function(t){console.log(t),s.address=t,console.log(s.address)})).catch((function(s){})),this.$route.query.index?(this.address=this.$route.query.address,this.index=this.$route.query.index,console.log(this.index)):(this.index=0,console.log(this.index)),this.axios.post("v1/carts/checkout",{come_from:"web",restaurant_id:this.shop.id,geohash:this.geohash,entities:this.entities}).then((function(s){console.log(s)})).catch((function(s){}))},methods:{goBack:function(){this.$router.go(-1)},placeOrder:function(){this.$router.push({path:"/payment"})}},computed:{priceAll:function(){this.price=0;for(var s=0;s<this.mycar.length;s++){var t=this.mycar[s].i;this.price+=this.mycar[s].shop.specfoods[t].price*this.mycar[s].num}return this.price+69+4}}},r=o,n=(e("336f"),e("2877")),c=Object(n["a"])(r,i,a,!1,null,"4c0f5970",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-c0d518c0.6220f446.js.map